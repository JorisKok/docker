version: '3'

services:
  ui:
    image: dalibo/temboard:latest
    links:
      - repository
    environment:
      PGHOST: repository
      PGUSER: temboard
      PGPASSWORD: temboard
    ports:
      - "8888:8888"
    links:
      - repository
    networks:
      default:
        aliases:
          - temboardui-ui

  repository:
    image: postgres:9.6
    environment:
      POSTGRES_USER: temboard
      POSTGRES_PASSWORD: temboard

  temboard-agent-94:
    image: dalibo/temboard-agent-94:latest
    ports:
      - 5433:5432

  temboard-agent-95:
    image: dalibo/temboard-agent-95:latest
    ports:
      - 5434:5432

  temboard-agent-96:
    image: dalibo/temboard-agent-96:latest
    ports:
      - 5435:5432
